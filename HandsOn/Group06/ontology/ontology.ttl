@prefix rdf:  <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix owl:  <http://www.w3.org/2002/07/owl#> .
@prefix xsd:  <http://www.w3.org/2001/XMLSchema#> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix gtfs: <https://vocab.gtfs.org/terms#> .
@prefix geo:  <http://www.w3.org/2003/01/geo/wgs84_pos#> .
@prefix schema: <http://schema.org/> .
@prefix ex:   <http://group06.linkeddata.es/ontology/> .

#################################################################
# Ontology Metadata
#################################################################

<http://group06.linkeddata.es/ontology/transit>
    a owl:Ontology ;
    dcterms:title "Madrid Transit Linked Data Ontology"@en ;
    dcterms:creator "Group 06" ;
    dcterms:created "2025-10-17"^^xsd:date ;
    rdfs:comment "Lightweight ontology extending GTFS vocabulary to enable linking transit stops with nearby Wikidata geographic entities for the Madrid Transit Companion application."@en ;
    owl:imports <https://vocab.gtfs.org/terms> .

#################################################################
# Classes
#################################################################

ex:LinkedPlace a owl:Class ;
    rdfs:label "Linked Place"@en ;
    rdfs:comment "A geographic entity from Wikidata (landmark, monument, museum, historical site) that is linked to a transit stop based on geographic proximity."@en ;
    rdfs:subClassOf schema:Place ;
    owl:disjointWith gtfs:Stop .

#################################################################
# Object Properties
#################################################################

ex:nearbyPlace a owl:ObjectProperty ;
    rdfs:label "nearby place"@en ;
    rdfs:domain gtfs:Stop ;
    rdfs:range ex:LinkedPlace ;
    rdfs:comment "Links a transit stop to a nearby Wikidata place entity. The link is pre-computed based on geographic proximity (typically within 500m radius)."@en ;
    owl:inverseOf ex:nearbyStop .

ex:nearbyStop a owl:ObjectProperty ;
    rdfs:label "nearby stop"@en ;
    rdfs:domain ex:LinkedPlace ;
    rdfs:range gtfs:Stop ;
    rdfs:comment "Links a Wikidata place entity to a nearby transit stop. Inverse property of ex:nearbyPlace."@en ;
    owl:inverseOf ex:nearbyPlace .

#################################################################
# Datatype Properties
#################################################################

ex:wikidataUri a owl:DatatypeProperty ;
    rdfs:label "Wikidata URI"@en ;
    rdfs:domain ex:LinkedPlace ;
    rdfs:range xsd:anyURI ;
    rdfs:comment "The Wikidata entity URI for this place (e.g., http://www.wikidata.org/entity/Q12345)."@en .

ex:distanceMeters a owl:DatatypeProperty ;
    rdfs:label "distance in meters"@en ;
    rdfs:domain ex:LinkedPlace ;
    rdfs:range xsd:decimal ;
    rdfs:comment "Distance in meters from the linked transit stop to this place, calculated using haversine formula on WGS84 coordinates."@en .
